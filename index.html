<!DOCTYPE html>
<html lang="cs">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Basket S치zky PRO</title>

<style>
* { box-sizing: border-box; }
body {
    margin:0;
    font-family:-apple-system,BlinkMacSystemFont,sans-serif;
    background:#0f0f14;
    color:white;
}
.container {
    max-width:600px;
    margin:auto;
    padding:15px;
}
h1 { text-align:center; }

.card {
    background:#1c1c24;
    padding:15px;
    border-radius:18px;
    margin-bottom:20px;
    box-shadow:0 5px 20px rgba(0,0,0,0.4);
}

input, select {
    width:100%;
    padding:10px;
    border-radius:10px;
    border:none;
    margin-bottom:10px;
}

button {
    width:100%;
    padding:10px;
    border-radius:12px;
    border:none;
    font-weight:bold;
    cursor:pointer;
}

.primary { background:#ff9500; color:black; }
.tab {
    background:#2a2a36;
    margin-bottom:6px;
}
.tab.active { background:#ff9500; color:black; }

.bet {
    background:#2a2a36;
    padding:8px;
    border-radius:10px;
    margin-top:6px;
    font-size:14px;
}
</style>
</head>

<body>
<div class="container">
<h1>游 Basket S치zky PRO</h1>

<div class="card">
<input id="team1" placeholder="T칳m 1">
<input id="team2" placeholder="T칳m 2">
<button class="primary" onclick="createMatch()">Vytvo콏it z치pas</button>
</div>

<div id="matches"></div>
</div>

<script>
let matches = JSON.parse(localStorage.getItem("matches")) || [];

function save() {
localStorage.setItem("matches", JSON.stringify(matches));
}

function createMatch(){
let t1 = team1.value;
let t2 = team2.value;
if(!t1 || !t2) return;

matches.push({
team1:t1,
team2:t2,
bets:[]
});

team1.value="";
team2.value="";
save();
render();
}

function addBet(i){
let player = document.getElementById("player"+i).value;
let team = document.getElementById("playerTeam"+i).value;
let type = document.getElementById("betType"+i).value;
let x = document.getElementById("value"+i)?.value || "";
let period = document.getElementById("period"+i).value;

if(!player || !team) return;

let description = "";

switch(type){
case "winner":
description = "V칤t캩z z치pasu: "+team;
break;
case "3pt":
description = "Hr치캜 "+player+" ("+team+") v칤ce ne "+x+" trojek";
break;
case "2pt":
description = "Hr치캜 "+player+" ("+team+") v칤ce ne "+x+" dvojek";
break;
case "fouls":
description = "Hr치캜 "+player+" ("+team+") v칤ce ne "+x+" faul콢";
break;
case "ft":
description = "Trestn칳 hod hr치캜e "+player+": "+x;
break;
case "points":
description = "Hr치캜 "+player+" ("+team+") "+x+" bod콢";
break;
}

matches[i].bets.push({
desc:description,
period:period
});

save();
render();
}

function render(){
let container = document.getElementById("matches");
container.innerHTML="";

matches.forEach((m,i)=>{
let card = document.createElement("div");
card.className="card";

card.innerHTML=`
<h2>${m.team1} 游 ${m.team2}</h2>

<select id="betType${i}" onchange="updateFields(${i})">
<option value="winner">游끥 V칤t캩z z치pasu</option>
<option value="3pt">游꿢 V칤ce ne X trojek</option>
<option value="2pt">游 V칤ce ne X dvojek</option>
<option value="fouls">游뛂 V칤ce ne X faul콢</option>
<option value="ft">游꿢 Trestn칳 hod D치/Ned치</option>
<option value="points">游늵 V칤ce/M칠n캩 bod콢</option>
</select>

<div id="dynamicFields${i}"></div>

<select id="period${i}">
<option>Cel칳 z치pas</option>
<option>1. 캜tvrtina</option>
<option>2. 캜tvrtina</option>
<option>3. 캜tvrtina</option>
<option>4. 캜tvrtina</option>
</select>

<button class="primary" onclick="addBet(${i})">P콏idat s치zku</button>

<div>
${m.bets.map(b=>`<div class="bet">${b.desc} | ${b.period}</div>`).join("")}
</div>
`;

container.appendChild(card);
updateFields(i);
});
}

function updateFields(i){
let type = document.getElementById("betType"+i).value;
let div = document.getElementById("dynamicFields"+i);

if(type==="winner"){
div.innerHTML=`
<select id="playerTeam${i}">
<option>${matches[i].team1}</option>
<option>${matches[i].team2}</option>
</select>`;
return;
}

div.innerHTML=`
<input id="player${i}" placeholder="캛칤slo hr치캜e/hr치캜ky">
<select id="playerTeam${i}">
<option>${matches[i].team1}</option>
<option>${matches[i].team2}</option>
</select>
`;

if(type==="ft"){
div.innerHTML+=`
<select id="value${i}">
<option>D치</option>
<option>Ned치</option>
</select>`;
}
else if(type==="points"){
div.innerHTML+=`
<select id="value${i}">
<option>V칤ce ne</option>
<option>M칠n캩 ne</option>
</select>
<input id="extra${i}" placeholder="Po캜et bod콢">`;
}
else{
div.innerHTML+=`
<input id="value${i}" placeholder="Hodnota X">`;
}
}

render();
</script>

</body>
</html>
